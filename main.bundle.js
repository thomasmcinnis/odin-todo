(()=>{"use strict";var t={426:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(81),s=n.n(r),i=n(645),o=n.n(i)()(s());o.push([t.id,"/*\n  Josh's Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n\n*,\n*::before,\n*::after {\n    box-sizing: border-box;\n}\n\n* {\n    margin: 0;\n}\n\nbody {\n    line-height: 1.5;\n    -webkit-font-smoothing: antialiased;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n    max-width: 100%;\n    height: auto;\n    vertical-align: middle;\n    font-style: italic;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n    font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    overflow-wrap: break-word;\n}\n\n#root,\n#__next {\n    isolation: isolate;\n}\n\n:root {\n    /* Colours */\n    --_hue-primary: 350;\n    --_hue-secondary: 260;\n\n    /* Light Mode */\n    --bkg--light: var(--_hue-secondary) 25% 95%;\n    --txt--light: var(--_hue-primary) 40% 5%;\n    --accent--light: var(--_hue-primary) 70% 60%;\n    --muted--light: var(--_hue-secondary) 10% 80%;\n    /* Dark Mode */\n    --bkg--dark: var(--_hue-secondary) 15% 10%;\n    --txt--dark: var(--_hue-primary) 15% 90%;\n    --accent--dark: var(--_hue-primary) 80% 70%;\n    --muted--dark: var(--_hue-secondary) 15% 30%;\n\n    --bkg: var(--bkg--light);\n    --txt: var(--txt--light);\n    --accent: var(--accent--light);\n    --muted: var(--muted--light);\n    color-scheme: light;\n\n    & :focus-visible {\n        outline: solid 1px hsl(var(--accent) / 0.5);\n    }\n}\n\n@media (prefers-color-scheme: dark) {\n    :root {\n        --bkg: var(--bkg--dark);\n        --txt: var(--txt--dark);\n        --accent: var(--accent--dark);\n        --muted: var(--muted--dark);\n        color-scheme: dark;\n    }\n}\n\nbody {\n    font-family: sans-serif;\n    font-size: 0.875rem;\n    color: hsl(var(--txt));\n    background-color: hsl(var(--bkg));\n}\n\nmain {\n    max-width: 42rem;\n    margin: 2rem auto;\n    padding: 0 1rem;\n    display: grid;\n    grid-template-columns: 2fr 4fr;\n    row-gap: 1rem;\n    column-gap: 6rem;\n}\n\n#top-menu {\n    grid-column-start: 2;\n    grid-column-end: 3;\n    justify-self: center;\n}\n\n#side-menu {\n    display: flex;\n    flex-direction: column;\n    justify-self: center;\n    padding: 0 1rem;\n}\n\nbutton {\n    padding: 0.5rem 0;\n    color: hsl(var(--txt));\n    background: none;\n    border: none;\n    cursor: pointer;\n\n    &#add-task {\n        height: 3rem;\n        padding: 1rem 2rem;\n    }\n\n    &:hover {\n        color: hsl(var(--accent));\n    }\n}\n\n.action-btn {\n    padding: 0;\n    width: 1.1rem;\n    color: hsl(var(--muted));\n\n    &:hover {\n        color: hsl(var(--accent));\n    }\n\n    &[urgent='true'] {\n        color: hsl(var(--accent) / 0.8);\n    }\n}\n\nul {\n    padding-left: 0;\n    list-style-type: none;\n}\n\n#category-list {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    grid-column-start: 1;\n    grid-column-end: 2;\n}\n\n#category-list > li {\n    display: flex;\n    gap: 0.5rem;\n    justify-content: space-between;\n\n    & button {\n        text-align: left;\n    }\n\n    & > button:first-child {\n        margin-right: auto;\n    }\n}\n\n#tasks-list {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    grid-column-start: 2;\n    grid-column-end: 3;\n}\n\n#tasks-list > li {\n    display: flex;\n    gap: 0.75rem;\n    padding: 0.5rem 1rem;\n    border-left: 1px solid transparent;\n\n    line-height: 1.4;\n\n    & label {\n        display: none;\n    }\n\n    &.urgent {\n        border-color: hsl(var(--accent));\n    }\n\n    & input[type='checkbox'] {\n        margin-top: 0.25rem;\n    }\n}\n\n.task-details {\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n\n    &:hover {\n        cursor: pointer;\n    }\n}\n\n.task-name {\n    font-size: 1rem;\n    font-weight: 700;\n    color: hsl(var(--accent));\n}\n\n.task-actions {\n    display: flex;\n    gap: 0.5rem;\n    align-items: start;\n}\n\n.complete .task-name {\n    text-decoration: line-through;\n    color: hsl(var(--muted));\n}\n\n.complete .task-details {\n    text-decoration: line-through;\n    color: hsl(var(--muted));\n}\n\n.complete .action-btn {\n    color: hsl(var(--muted));\n    opacity: 0.5;\n}\n\n.selected {\n    color: hsl(var(--accent));\n}\n\ndialog:modal {\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: 3rem;\n    padding: 2rem;\n    background-color: hsl(var(--bkg));\n    border: 1px solid hsl(var(--muted) / 0.5);\n    border-radius: 0.5rem;\n}\n\n::backdrop {\n    background-color: black;\n    opacity: 0.5;\n}\n\ndialog form {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n}\n\ndialog menu {\n    margin-top: 1rem;\n    list-style: none;\n    display: flex;\n    padding-inline-start: 0;\n    gap: 0.5rem;\n    justify-content: end;\n}\n\ndialog button {\n    padding: 0.25rem 0.5rem;\n    border: 1px solid hsl(var(--muted) / 0.8);\n    border-radius: 0.25rem;\n\n    &[type='submit'] {\n        border-color: hsl(var(--accent));\n    }\n}\n",""]);const a=o},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,s,i){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);r&&o[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),e.push(d))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},o=[],a=0;a<t.length;a++){var c=t[a],l=r.base?c[0]+r.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var m=n(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)e[m].references++,e[m].updater(h);else{var p=s(h,r);r.byIndex=a,e.splice(a,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function s(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,s){var i=r(t=t||[],s=s||{});return function(t){t=t||[];for(var o=0;o<i.length;o++){var a=n(i[o]);e[a].references--}for(var c=r(t,s),l=0;l<i.length;l++){var d=n(i[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=c}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,s&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{var t=n(379),e=n.n(t),r=n(795),s=n.n(r),i=n(569),o=n.n(i),a=n(565),c=n.n(a),l=n(216),d=n.n(l),u=n(589),m=n.n(u),h=n(426),p={};p.styleTagTransform=m(),p.setAttributes=c(),p.insert=o().bind(null,"head"),p.domAPI=s(),p.insertStyleElement=d(),e()(h.Z,p),h.Z&&h.Z.locals&&h.Z.locals;class g{constructor(t){if(!t.name)throw new Error("Name is required");const{id:e,name:n}=t;this.id=void 0===e?self.crypto.randomUUID():e,this.name=n}toggle(t){if(!this.hasOwnProperty(t)||"boolean"!=typeof this[t])throw new Error(`Boolean value of ${t} does not exist on object`);this[t]=!this[t]}setValue(t,e){if(!this.hasOwnProperty(t))throw new Error("Property does not exist");this[t]=e}}function f(t,...e){t.instance=new t(...e)}class y{static loadStore(t){try{return JSON.parse(localStorage.getItem(t))}catch(t){console.error(t.message)}}static updateStore(t,e){try{localStorage.setItem(e,JSON.stringify(t))}catch(t){console.error(t.message)}}}class v{constructor(t,e){this.LIST_KEY=t,this.ITEM_CLASS=e,this.itemsList,this.subsribers=[]}getItems(){return this.itemsList}getItemIndex(t){const e=this.itemsList.findIndex((({id:e})=>e===t));if(null===e)throw new Error("The selected item was not found in the list");return e}updateStore(){y.updateStore(this.itemsList,this.LIST_KEY)}addItem(t){this.itemsList.push(new this.ITEM_CLASS(t)),this.notifySubs(),this.updateStore()}deleteItem(t){if(0===this.itemsList.length)return;const e=this.itemsList.filter((e=>e.id!==t));this.itemsList=e,this.notifySubs(),this.updateStore()}updateItemValues(t,e){const n=this.getItemIndex(e);Object.entries(t).forEach((([t,e])=>{try{this.itemsList[n].setValue(t,e)}catch(t){console.error(t.message)}})),this.notifySubs(),this.updateStore()}toggleItemValue(t,e){const n=this.getItemIndex(e);try{this.itemsList[n].toggle(t)}catch(t){console.error(t.message)}this.notifySubs(),this.updateStore()}sub(t){if("function"!=typeof t)throw new Error(`Type ${typeof t} is not a function`);this.subsribers=[...this.subsribers,t]}unsub(t){if("function"!=typeof t)throw new Error(`Type ${typeof t} is not a function`);this.subsribers=this.subsribers.filter((e=>e!==t))}notifySubs(){this.subsribers.forEach((t=>t(this.LIST_KEY,this.getItems())))}initList(){if(!this.itemsList){const t=y.loadStore(this.LIST_KEY);this.itemsList=t?t.map((t=>new this.ITEM_CLASS(t))):[],this.notifySubs()}this.updateStore()}}class b extends v{}class x extends v{constructor(...t){super(...t)}getCategoryName(t){return this.itemsList[this.getItemIndex(t)].name}}f(b,"task-list-store",class extends g{constructor(t){const{categoryID:e,dueDate:n,isUrgent:r,isComplete:s,createdDate:i}=t;super(t),this.categoryID=e,this.dueDate=n,this.isUrgent=void 0!==r&&r,this.isComplete=void 0!==s&&s,this.createdDate=void 0===i?new Date:i}}),f(x,"category-list-store",class extends g{constructor(t){super(t)}});const L=b.instance,w=x.instance;function k(t,e){const n=document.getElementById("tasks-list");for(;n.firstChild;)n.removeChild(n.firstChild);t.forEach((t=>{const{categoryID:r}=t;let s="";r&&(s=e.find((t=>t.id===r)).name),n.appendChild(function(t,e){const{id:n,name:r,dueDate:s,categoryID:i,isUrgent:o,isComplete:a}=t,c=document.createElement("li");return c.setAttribute("data-id",n),c.setAttribute("tabindex",0),a&&c.classList.add("complete"),o&&c.classList.add("urgent"),c.appendChild(function(t){const e=document.createElement("div");e.setAttribute("aria-label","Complete task");const n=document.createElement("input");return n.setAttribute("type","checkbox"),n.setAttribute("tabindex",-1),n.setAttribute("data-action","isComplete"),t&&n.setAttribute("checked",!0),e.appendChild(n),e}(a)),c.appendChild(function(t,e,n){const r=document.createElement("div");r.classList.add("task-details"),r.setAttribute("data-action","edit");const s=document.createElement("p");if(s.textContent=t,s.classList.add("task-name"),r.appendChild(s),e){const t=document.createElement("p");t.textContent=e,t.classList.add("task-due"),r.appendChild(t)}if(n){const t=document.createElement("p");t.textContent=n,t.classList.add("task-category"),r.appendChild(t)}return r}(r,s,e)),c.appendChild(function(t){const e=document.createElement("div");e.classList.add("task-actions");const n=document.createElement("button");n.setAttribute("tabindex",-1),t&&n.setAttribute("urgent","true"),n.setAttribute("data-action","isUrgent"),n.classList.add("action-btn"),n.innerHTML='\n    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M2.725 21q-.275 0-.5-.137t-.35-.363q-.125-.225-.137-.488t.137-.512l9.25-16q.15-.25.388-.375T12 3q.25 0 .488.125t.387.375l9.25 16q.15.25.138.513t-.138.487q-.125.225-.35.363t-.5.137zM12 18q.425 0 .713-.288T13 17q0-.425-.288-.712T12 16q-.425 0-.712.288T11 17q0 .425.288.713T12 18m0-3q.425 0 .713-.288T13 14v-3q0-.425-.288-.712T12 10q-.425 0-.712.288T11 11v3q0 .425.288.713T12 15"/></svg>\n    ',e.appendChild(n);const r=document.createElement("button");return r.setAttribute("tabindex",-1),r.setAttribute("data-action","delete"),r.classList.add("action-btn"),r.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M14.12 10.47L12 12.59l-2.13-2.12l-1.41 1.41L10.59 14l-2.12 2.12l1.41 1.41L12 15.41l2.12 2.12l1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8z"/></svg>',e.appendChild(r),e}(o)),c}(t,s))}))}function C(t,e){const n=document.getElementById("category-list");for(;n.firstChild;)n.removeChild(n.firstChild);t.forEach((t=>{n.appendChild(function(t,e){const{id:n,name:r}=t,s=document.createElement("li");s.setAttribute("data-id",n),s.setAttribute("tabindex",0);const i=document.createElement("button");i.setAttribute("tabindex",-1),i.setAttribute("data-action","edit"),i.textContent=r;const o=document.createElement("button");o.setAttribute("tabindex",-1),o.setAttribute("data-action","select"),o.classList.add("action-btn"),o.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3s3-1.34 3-3s-1.34-3-3-3"/></svg>';const a=document.createElement("button");return a.setAttribute("tabindex",-1),a.setAttribute("data-action","delete"),a.classList.add("action-btn"),a.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M14.12 10.47L12 12.59l-2.13-2.12l-1.41 1.41L10.59 14l-2.12 2.12l1.41 1.41L12 15.41l2.12 2.12l1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8z"/></svg>',e&&e===n&&(i.classList.add("selected"),o.classList.add("selected")),s.appendChild(i),s.appendChild(o),s.appendChild(a),s}(t,e))}))}class S{static#t="";static#e=[];static#n=[];static updateView(t,e){var n;t&&("task-list-store"===t&&(this.#e=e,k(this.#r(),this.#n)),"category-list-store"===t&&(this.#n=e,C(this.#n,this.#t),n=this.#n,document.querySelectorAll("select").forEach((t=>{for(;t.firstChild;)t.removeChild(t.firstChild);const e=document.createElement("option");e.setAttribute("value",""),e.setAttribute("selected","selected"),e.textContent="Select a category",t.appendChild(e),n.forEach((e=>{const n=document.createElement("option");n.setAttribute("value",e.id),n.textContent=e.name,t.appendChild(n)}))})),k(this.#r(),this.#n)))}static filterCategory(t){this.#t=t===this.#t?"":t,k(this.#r(),this.#n),C(this.#n,this.#t)}static#r(){return this.#t?this.#e.filter((t=>t.categoryID===this.#t)):this.#e}}!function(){const t=document.querySelector("#add-task-modal"),e=document.querySelector("#add-task-btn"),n=t.querySelector("form"),r=t.querySelector("[type='reset']");e.addEventListener("click",(()=>{t.showModal()})),r.addEventListener("click",(()=>{t.close()})),n.onsubmit=e=>{e.preventDefault();const n=new FormData(e.target),r=Object.fromEntries(n.entries());r.isUrgent&&(r.isUrgent=!0),L.addItem(r),t.close()}}(),function(){const t=document.querySelector("#add-category-modal"),e=document.querySelector("#add-category-btn"),n=t.querySelector("[type='reset']");e.addEventListener("click",(()=>{t.showModal()}));const r=t.querySelector("form");n.addEventListener("click",(()=>{t.close()})),r.onsubmit=e=>{e.preventDefault();const n=new FormData(e.target),r=Object.fromEntries(n.entries());w.addItem(r),t.close()}}(),document.querySelector("#tasks-list").addEventListener("click",(function(t){const e=t.target.closest("[data-action]");if(!e)return;const n=e.dataset.action,r=t.target.closest("[data-id").dataset.id;switch(n){case"delete":L.deleteItem(r);break;case"edit":!function(t){const e=L.getItemIndex(t),{name:n,categoryID:r,dueDate:s}=L.itemsList[e],i=document.querySelector("#edit-task-modal"),o=i.querySelector("form");i.querySelector("[type='reset']").addEventListener("click",(()=>{i.close()})),o.onsubmit=e=>{e.preventDefault();const n=new FormData(e.target),r=Object.fromEntries(n.entries());r.isUrgent&&(r.isUrgent=!0),L.updateItemValues(r,t),i.close()},o.querySelector('input[name="name"]').value=n,o.querySelector("select").value=r,o.querySelector('input[name="dueDate"]').value=s,i.showModal()}(r);break;default:L.toggleItemValue(n,r)}})),document.querySelector("#category-list").addEventListener("click",(function(t){const e=t.target.closest("[data-action]");if(!e)return;const n=e.dataset.action,r=t.target.closest("[data-id]").dataset.id;"select"===n&&S.filterCategory(r),"delete"===n&&function(t){L.getItems().filter((e=>e.categoryID===t)).forEach((t=>L.updateItemValues({categoryID:""},t.id))),w.deleteItem(t)}(r),"edit"===n&&function(t){const e=w.getItemIndex(t),{name:n}=w.itemsList[e],r=document.querySelector("#edit-category-modal");console.log(r);const s=r.querySelector("form");console.log(s);const i=r.querySelector("[type='reset']");s.querySelector('input[name="name"]').value=n,i.addEventListener("click",(()=>{r.close()})),s.onsubmit=e=>{e.preventDefault();const n=new FormData(e.target),s=Object.fromEntries(n.entries());w.updateItemValues(s,t),r.close()},r.showModal()}(r)})),L.sub(S.updateView.bind(S)),w.sub(S.updateView.bind(S)),w.initList(),L.initList();const I=[{name:"Work"},{name:"Study"}],E=[{name:"File TPS report",dueDate:"2024-01-21"},{name:"Learn Javascript",isUrgent:!0}];if(0===L.getItems().length&&0===w.getItems().length){I.forEach((t=>w.addItem(t)));const t=w.getItems();E.forEach(((e,n)=>{const r=t[n].id;e.categoryID=r,L.addItem(e)}))}})()})();